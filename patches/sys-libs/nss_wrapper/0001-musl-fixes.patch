diff -Nuar nss_wrapper-1.1.3.orig/ConfigureChecks.cmake nss_wrapper-1.1.3/ConfigureChecks.cmake
--- nss_wrapper-1.1.3.orig/ConfigureChecks.cmake	2016-03-17 20:26:09.000000000 +0100
+++ nss_wrapper-1.1.3/ConfigureChecks.cmake	2016-07-09 22:36:38.887314791 +0100
@@ -51,7 +51,7 @@
 check_include_file(pwd.h HAVE_PWD_H)
 check_include_file(shadow.h HAVE_SHADOW_H)
 check_include_file(grp.h HAVE_GRP_H)
-check_include_file(nss.h HAVE_NSS_H)
+check_include_file(nss/nss.h HAVE_NSS_H)
 check_include_file(nss_common.h HAVE_NSS_COMMON_H)
 
 # FUNCTIONS
diff -Nuar nss_wrapper-1.1.3.orig/cmake/Modules/DefineCompilerFlags.cmake nss_wrapper-1.1.3/cmake/Modules/DefineCompilerFlags.cmake
--- nss_wrapper-1.1.3.orig/cmake/Modules/DefineCompilerFlags.cmake	2015-11-11 11:51:25.000000000 +0100
+++ nss_wrapper-1.1.3/cmake/Modules/DefineCompilerFlags.cmake	2016-07-09 22:37:53.277876861 +0100
@@ -10,7 +10,7 @@
     if (${CMAKE_C_COMPILER_ID} MATCHES "(GNU|Clang)")
 
         # add -Wconversion ?
-        set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=gnu99 -pedantic -pedantic-errors")
+        set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=gnu99 -pedantic")
         set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall -Wextra -Wshadow -Wmissing-prototypes -Wdeclaration-after-statement")
         set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wunused -Wfloat-equal -Wpointer-arith -Wwrite-strings -Wformat-security")
 	set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wmissing-format-attribute -fstrict-aliasing -Wbad-function-cast")
diff -Nuar nss_wrapper-1.1.3.orig/src/CMakeLists.txt nss_wrapper-1.1.3/src/CMakeLists.txt
--- nss_wrapper-1.1.3.orig/src/CMakeLists.txt	2016-07-09 22:35:51.114953838 +0100
+++ nss_wrapper-1.1.3/src/CMakeLists.txt	2016-07-09 22:39:30.935614732 +0100
@@ -1,6 +1,7 @@
 project(libnss_wrapper C)
 
 include_directories(${CMAKE_BINARY_DIR})
+include_directories("/usr/include/nspr")
 add_library(nss_wrapper SHARED nss_wrapper.c)
 target_link_libraries(nss_wrapper ${NWRAP_REQUIRED_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT})
 
diff -Nuar nss_wrapper-1.1.3.orig/src/nss_wrapper.c nss_wrapper-1.1.3/src/nss_wrapper.c
--- nss_wrapper-1.1.3.orig/src/nss_wrapper.c	2016-03-17 20:26:09.000000000 +0100
+++ nss_wrapper-1.1.3/src/nss_wrapper.c	2016-07-09 22:37:26.887677466 +0100
@@ -80,7 +80,7 @@
 
 #if defined(HAVE_NSS_H)
 /* Linux and BSD */
-#include <nss.h>
+#include <nss/nss.h>
 
 typedef enum nss_status NSS_STATUS;
 #elif defined(HAVE_NSS_COMMON_H)
diff -Nuar nss_wrapper-1.1.3.orig/tests/nss_nwrap.c nss_wrapper-1.1.3/tests/nss_nwrap.c
--- nss_wrapper-1.1.3.orig/tests/nss_nwrap.c	2013-12-20 09:10:18.000000000 +0100
+++ nss_wrapper-1.1.3/tests/nss_nwrap.c	2016-07-09 22:37:36.733751859 +0100
@@ -5,7 +5,7 @@
 
 #if defined(HAVE_NSS_H)
 /* Linux and BSD */
-#include <nss.h>
+#include <nss/nss.h>
 
 typedef enum nss_status NSS_STATUS;
 #elif defined(HAVE_NSS_COMMON_H)
